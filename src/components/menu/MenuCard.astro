---
// Definimos qué datos espera recibir este componente
interface Props {
  nombre: string;
  descripcion: string;
  precio: number;
  imagen: string;
  etiquetas?: string[];
}

const { nombre, descripcion, precio, imagen, etiquetas } = Astro.props;

// Función simple para formatear precio a pesos colombianos (o tu moneda)
const precioFormateado = new Intl.NumberFormat('es-CO', {
  style: 'currency',
  currency: 'COP',
  maximumFractionDigits: 0
}).format(precio);
---

<article class="bg-slate-800 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 border border-slate-700 flex flex-col h-full group">
  <div class="relative w-full h-48 overflow-hidden">
    <img 
      src={imagen} 
      alt={nombre} 
      class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
      loading="lazy"
    />
    <div class="absolute top-2 right-2 bg-amber-500 text-slate-900 font-bold px-3 py-1 rounded-full text-sm shadow-md">
      {precioFormateado}
    </div>
  </div>

  <div class="p-5 flex flex-col flex-grow">
    <h3 class="text-xl font-bold text-slate-100 font-display mb-2">{nombre}</h3>
    
    <p class="text-slate-400 text-sm mb-4 flex-grow line-clamp-3">
      {descripcion}
    </p>

    {etiquetas && (
      <div class="flex flex-wrap gap-2 mt-auto pt-4 border-t border-slate-700/50">
        {etiquetas.map((tag) => (
          <span class="text-xs bg-slate-700 text-slate-300 px-2 py-1 rounded-md border border-slate-600">
            {tag}
          </span>
        ))}
      </div>
    )}
  </div>
</article>